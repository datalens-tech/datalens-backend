name: 'Commitlint'
description: 'Commitlints input according to config'
inputs:
  input:
    description: 'The input to commitlint'
    required: true
  config_path:
    description: 'The path to the commitlint config'
    required: true
runs:
  using: composite

  steps:
    - name: Setup Node
      uses: actions/setup-node@v2
      with:
          node-version: '22'

    - name: Install Dependencies
      shell: bash
      run: |
          npm init es6 -y
          npm install conventional-changelog-conventionalcommits
          npm install @commitlint/{config-conventional,cli}

    - name: Lint Commit
      shell: bash
      run: |
          echo "${{ inputs.input }}" | npx commitlint --config ${{ inputs.config_path }}
