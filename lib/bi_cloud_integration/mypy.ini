[mypy]
warn_unused_configs = True
disallow_untyped_defs = True
; to make `disallow_untyped_defs = False` overrides more useful:
check_untyped_defs = True
strict_optional = True


; within-category sorting:
; python -c "import sys; d = sys.stdin.read(); d = d.split('\n\n'); d.sort(); d = '\n\n'.join(item.strip() for item in d); print(d)"

; libraries

[mypy-grpc.*]
ignore_missing_imports = True

[mypy-yandex.cloud.priv.*]
ignore_missing_imports = True

[mypy-bi_cloud_integration.iam_mock]
; Due to a huge number of gRPC typing issues:
;
; bi_cloud_integration/iam_mock.py:110: error: Variable "yandex.cloud.priv.accessservice.v2.access_service_pb2.AuthenticateRequest" is not valid as a type
; bi_cloud_integration/iam_mock.py:110: note: See https://mypy.readthedocs.io/en/latest/common_issues.html#variables-vs-type-aliases
; bi_cloud_integration/iam_mock.py:112: error: Variable "yandex.cloud.priv.accessservice.v2.access_service_pb2.AuthenticateResponse" is not valid as a type
; bi_cloud_integration/iam_mock.py:112: note: See https://mypy.readthedocs.io/en/latest/common_issues.html#variables-vs-type-aliases
; bi_cloud_integration/iam_mock.py:113: error: access_service_pb2.AuthenticateRequest? has no attribute "iam_token"
;
; Also it does not treat `context.abort()` as `NoReturn` and it causes a lot of other errors like 'Item "None" of "Optional[IAMMockUser]" has no attribute "to_grpc_subject"'
ignore_errors = True
