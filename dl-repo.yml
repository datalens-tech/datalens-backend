# This file is used by datalens-repmanager as the main configuration file

dl_repo:
  include:
    - mainrepo/dl-repo.yml  # The "main" open-source repo

  fs_editor: git

  package_types:
    - type: lib_ya  # Main libraries (internal repo)
      root_path: lib
      boilerplate_path: mainrepo/lib/bi_package_boilerplate
      tags:
        - main_dependency_group

    - type: ops_ya
      root_path: ops
      boilerplate_path: mainrepo/lib/bi_package_boilerplate
      tags:
        - main_dependency_group

    - type: app_ya
      root_path: app
      boilerplate_path: mainrepo/lib/bi_package_boilerplate
      tags:
        - main_dependency_group
        - own_dependency_group

    - type: app_yc
      root_path: app_yc
      boilerplate_path: mainrepo/lib/bi_package_boilerplate
      tags:
        - own_dependency_group

    - type: app_nebius
      root_path: app_nebius
      boilerplate_path: mainrepo/lib/bi_package_boilerplate
      tags:
        - own_dependency_group

  metapackages:
    - name: ops_ci
      toml: ops/ci/pyproject.toml

  plugins:
    - type: common_tooling
      config:
        package_list_path: tools/local_dev/requirements/all_local_packages.lst

    - type: toml_registration
      config:
        metapackage: ops_ci

    - type: dependency_registration
